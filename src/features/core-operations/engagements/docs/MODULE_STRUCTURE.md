# Engagement æ¨¡çµ„çµæ§‹æ–‡æª” (Engagement Module Structure Documentation)

## ğŸ“‹ æ¦‚è¿° (Overview)

æœ¬æ–‡æª”è©³ç´°ä»‹ç´¹äº† `src/features/core-operations/engagements` æ¨¡çµ„çš„å®Œæ•´çµæ§‹ï¼ŒåŒ…æ‹¬æ‰€æœ‰ç›®éŒ„ã€æ–‡ä»¶å’ŒåŠŸèƒ½èªªæ˜ã€‚é€™æ˜¯ä¸€å€‹åŠŸèƒ½å®Œæ•´çš„å°ˆæ¡ˆåˆç´„ç®¡ç†ç³»çµ±ï¼Œæ•´åˆäº†å°ˆæ¡ˆç®¡ç†å’Œåˆç´„ç®¡ç†çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ã€‚

**æ¨¡çµ„ç‰ˆæœ¬**: 2.0  
**æ–‡æª”ç‰ˆæœ¬**: 1.0  
**æœ€å¾Œæ›´æ–°**: 2024å¹´12æœˆ19æ—¥  
**ç‹€æ…‹**: âœ… å®Œæ•´å¯¦ç¾

## ğŸ—ï¸ æ¨¡çµ„æ¶æ§‹ (Module Architecture)

### æ ¸å¿ƒè¨­è¨ˆåŸå‰‡
- **æ¨¡çµ„åŒ–è¨­è¨ˆ**: æ¸…æ™°çš„ç›®éŒ„çµæ§‹å’Œè·è²¬åˆ†é›¢
- **é¡å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript é¡å‹å®šç¾©
- **çµ„ä»¶åŒ–**: å¯é‡ç”¨çš„ UI çµ„ä»¶
- **æœå‹™å°å‘**: æ¸…æ™°çš„æ¥­å‹™é‚è¼¯åˆ†å±¤
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: ç¾ä»£åŒ–çš„ç”¨æˆ¶ç•Œé¢

## ğŸ“ ç›®éŒ„çµæ§‹è©³è§£ (Directory Structure Details)

### ğŸ¯ æ ¹ç›®éŒ„æ–‡ä»¶ (Root Files)

```
engagements/
â”œâ”€â”€ index.ts                    # æ¨¡çµ„çµ±ä¸€å°å‡ºå…¥å£
â””â”€â”€ README.md                   # æ¨¡çµ„èªªæ˜æ–‡æª”
```

**åŠŸèƒ½èªªæ˜**:
- `index.ts`: æ¨¡çµ„çš„ä¸»è¦å°å‡ºæ–‡ä»¶ï¼Œçµ±ä¸€ç®¡ç†æ‰€æœ‰å°å¤–æ¥å£
- `README.md`: æ¨¡çµ„ä½¿ç”¨èªªæ˜å’Œå¿«é€Ÿé–‹å§‹æŒ‡å—

---

### âš¡ Actions ç›®éŒ„ (Server Actions)

```
actions/
â”œâ”€â”€ change.actions.ts           # è®Šæ›´ç®¡ç†æ“ä½œ
â”œâ”€â”€ communication.actions.ts    # æºé€šç®¡ç†æ“ä½œ
â”œâ”€â”€ document-parse.actions.ts   # æ–‡ä»¶è§£ææ“ä½œ
â”œâ”€â”€ document.actions.ts         # æ–‡ä»¶ç®¡ç†æ“ä½œ
â”œâ”€â”€ engagement.actions.ts       # æ ¸å¿ƒ Engagement æ“ä½œ
â”œâ”€â”€ financial.actions.ts        # è²¡å‹™ç®¡ç†æ“ä½œ
â”œâ”€â”€ index.ts                    # Actions çµ±ä¸€å°å‡º
â”œâ”€â”€ subtask.actions.ts          # å­ä»»å‹™ç®¡ç†æ“ä½œ
â””â”€â”€ task.actions.ts             # ä»»å‹™ç®¡ç†æ“ä½œ
```

**åŠŸèƒ½èªªæ˜**:
- **Server Actions**: ä½¿ç”¨ Next.js App Router çš„æœå‹™ç«¯æ“ä½œ
- **æ•¸æ“šé©—è­‰**: æ‰€æœ‰æ“ä½œéƒ½åŒ…å«å®Œæ•´çš„è¼¸å…¥é©—è­‰
- **éŒ¯èª¤è™•ç†**: çµ±ä¸€çš„éŒ¯èª¤è™•ç†å’Œç”¨æˆ¶åé¥‹
- **ç·©å­˜ç®¡ç†**: æ™ºèƒ½çš„ç·©å­˜å¤±æ•ˆå’Œæ›´æ–°ç­–ç•¥

**ä¸»è¦åŠŸèƒ½**:
- `engagement.actions.ts`: CRUD æ“ä½œã€ç‹€æ…‹ç®¡ç†ã€æ‰¹é‡æ“ä½œ
- `task.actions.ts`: ä»»å‹™å‰µå»ºã€æ›´æ–°ã€åˆªé™¤ã€ç‹€æ…‹è®Šæ›´
- `financial.actions.ts`: ä»˜æ¬¾ã€ç™¼ç¥¨ã€è²¡å‹™è¨ˆç®—
- `document.actions.ts`: æ–‡ä»¶ä¸Šå‚³ã€é™„ä»¶ç®¡ç†
- `communication.actions.ts`: æºé€šè¨˜éŒ„ã€æœƒè­°ç®¡ç†

---

### ğŸ¨ Components ç›®éŒ„ (UI Components)

#### ğŸ“Š ä¸»çµ„ä»¶ç´¢å¼•
```
components/
â”œâ”€â”€ index.ts                    # çµ„ä»¶çµ±ä¸€å°å‡º
```

#### ğŸƒ Cards çµ„ä»¶ (å¡ç‰‡çµ„ä»¶)
```
cards/
â”œâ”€â”€ engagement-card.tsx         # Engagement å¡ç‰‡
â”œâ”€â”€ engagement-summary-card.tsx # Engagement æ‘˜è¦å¡ç‰‡
â””â”€â”€ index.ts                    # Cards å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: é©é…å„ç¨®å±å¹•å°ºå¯¸
- **æ•¸æ“šå±•ç¤º**: æ¸…æ™°çš„æ•¸æ“šè¦–è¦ºåŒ–
- **äº¤äº’åŠŸèƒ½**: é»æ“Šã€æ‡¸åœç­‰ç”¨æˆ¶äº¤äº’

#### ğŸ“ˆ Charts çµ„ä»¶ (åœ–è¡¨çµ„ä»¶)
```
charts/
â”œâ”€â”€ engagement-chart.tsx        # Engagement æ¦‚è¦½åœ–è¡¨
â”œâ”€â”€ financial-chart.tsx         # è²¡å‹™åˆ†æåœ–è¡¨
â”œâ”€â”€ progress-chart.tsx          # é€²åº¦è¿½è¹¤åœ–è¡¨
â”œâ”€â”€ quality-chart.tsx           # å“è³ªæŒ‡æ¨™åœ–è¡¨
â””â”€â”€ index.ts                    # Charts å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **æ•¸æ“šè¦–è¦ºåŒ–**: ä½¿ç”¨ Recharts åº«å¯¦ç¾è±å¯Œçš„åœ–è¡¨
- **å¯¦æ™‚æ›´æ–°**: æ”¯æŒæ•¸æ“šçš„å¯¦æ™‚æ›´æ–°å’Œåˆ·æ–°
- **äº¤äº’åŠŸèƒ½**: åœ–è¡¨ç¸®æ”¾ã€æ‡¸åœã€é»æ“Šç­‰äº¤äº’
- **éŸ¿æ‡‰å¼**: è‡ªé©æ‡‰ä¸åŒå±å¹•å°ºå¯¸

#### ğŸ’¬ Communication çµ„ä»¶ (æºé€šçµ„ä»¶)
```
communication/
â”œâ”€â”€ communication-card.tsx      # æºé€šè¨˜éŒ„å¡ç‰‡
â”œâ”€â”€ communication-form.tsx      # æºé€šè¨˜éŒ„è¡¨å–®
â”œâ”€â”€ communication-list.tsx      # æºé€šè¨˜éŒ„åˆ—è¡¨
â”œâ”€â”€ meeting-card.tsx            # æœƒè­°è¨˜éŒ„å¡ç‰‡
â”œâ”€â”€ meeting-form.tsx            # æœƒè­°è¨˜éŒ„è¡¨å–®
â”œâ”€â”€ meeting-list.tsx            # æœƒè­°è¨˜éŒ„åˆ—è¡¨
â””â”€â”€ index.ts                    # Communication å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **æºé€šç®¡ç†**: å®Œæ•´çš„æºé€šè¨˜éŒ„ç®¡ç†ç³»çµ±
- **æœƒè­°ç®¡ç†**: æœƒè­°å®‰æ’ã€è¨˜éŒ„ã€è¿½è¹¤
- **å¾ŒçºŒè¡Œå‹•**: è¡Œå‹•é …ç›®çš„ç®¡ç†å’Œè¿½è¹¤

#### ğŸªŸ Dialogs çµ„ä»¶ (å½ˆçª—çµ„ä»¶)
```
dialogs/
â”œâ”€â”€ confirmation-dialog.tsx     # é€šç”¨ç¢ºèªå½ˆçª—
â”œâ”€â”€ delete-engagement-dialog.tsx # åˆªé™¤ç¢ºèªå½ˆçª—
â”œâ”€â”€ engagement-details-dialog.tsx # Engagement è©³æƒ…å½ˆçª—
â”œâ”€â”€ engagement-dialog.tsx       # Engagement ç·¨è¼¯å½ˆçª—
â””â”€â”€ index.ts                    # Dialogs å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **ç”¨æˆ¶ç¢ºèª**: å®‰å…¨çš„æ“ä½œç¢ºèªæ©Ÿåˆ¶
- **è©³ç´°å±•ç¤º**: è±å¯Œçš„æ•¸æ“šå±•ç¤ºå½ˆçª—
- **ç·¨è¼¯åŠŸèƒ½**: å…§è¯ç·¨è¼¯å’Œè¡¨å–®ç·¨è¼¯
- **ç„¡éšœç¤™è¨­è¨ˆ**: æ”¯æŒéµç›¤å°èˆªå’Œå±å¹•é–±è®€å™¨

#### ğŸ“„ Documents çµ„ä»¶ (æ–‡ä»¶çµ„ä»¶)
```
documents/
â”œâ”€â”€ attachment-card.tsx         # é™„ä»¶å¡ç‰‡
â”œâ”€â”€ attachment-form.tsx         # é™„ä»¶è¡¨å–®
â”œâ”€â”€ attachment-list.tsx         # é™„ä»¶åˆ—è¡¨
â”œâ”€â”€ document-card.tsx           # æ–‡ä»¶å¡ç‰‡
â”œâ”€â”€ document-form.tsx           # æ–‡ä»¶è¡¨å–®
â”œâ”€â”€ document-list.tsx           # æ–‡ä»¶åˆ—è¡¨
â””â”€â”€ index.ts                    # Documents å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **æ–‡ä»¶ç®¡ç†**: å®Œæ•´çš„æ–‡ä»¶ä¸Šå‚³å’Œç®¡ç†ç³»çµ±
- **é™„ä»¶è™•ç†**: å¤šç¨®æ–‡ä»¶æ ¼å¼çš„æ”¯æŒ
- **ç‰ˆæœ¬æ§åˆ¶**: æ–‡ä»¶ç‰ˆæœ¬ç®¡ç†å’Œæ­·å²è¨˜éŒ„
- **é è¦½åŠŸèƒ½**: æ–‡ä»¶é è¦½å’ŒæŸ¥çœ‹

#### ğŸ’° Financial çµ„ä»¶ (è²¡å‹™çµ„ä»¶)
```
financial/
â”œâ”€â”€ financial-summary.tsx       # è²¡å‹™æ‘˜è¦
â”œâ”€â”€ invoice-card.tsx            # ç™¼ç¥¨å¡ç‰‡
â”œâ”€â”€ invoice-form.tsx            # ç™¼ç¥¨è¡¨å–®
â”œâ”€â”€ invoice-list.tsx            # ç™¼ç¥¨åˆ—è¡¨
â”œâ”€â”€ payment-card.tsx            # ä»˜æ¬¾å¡ç‰‡
â”œâ”€â”€ payment-form.tsx            # ä»˜æ¬¾è¡¨å–®
â”œâ”€â”€ payment-list.tsx            # ä»˜æ¬¾åˆ—è¡¨
â””â”€â”€ index.ts                    # Financial å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **è²¡å‹™ç®¡ç†**: å®Œæ•´çš„è²¡å‹™è¨˜éŒ„å’Œè¿½è¹¤
- **ä»˜æ¬¾ç®¡ç†**: ä»˜æ¬¾è¨ˆåŠƒã€è¨˜éŒ„ã€ç‹€æ…‹è¿½è¹¤
- **ç™¼ç¥¨ç®¡ç†**: ç™¼ç¥¨ç”Ÿæˆã€ç™¼é€ã€ç‹€æ…‹ç®¡ç†
- **è²¡å‹™è¨ˆç®—**: è‡ªå‹•çš„è²¡å‹™è¨ˆç®—å’Œçµ±è¨ˆ

#### ğŸ“ Forms çµ„ä»¶ (è¡¨å–®çµ„ä»¶)
```
forms/
â”œâ”€â”€ create-engagement-form.tsx  # å‰µå»º Engagement è¡¨å–®
â”œâ”€â”€ document-parse-form.tsx     # æ–‡ä»¶è§£æè¡¨å–®
â”œâ”€â”€ edit-engagement-form.tsx    # ç·¨è¼¯ Engagement è¡¨å–®
â””â”€â”€ index.ts                    # Forms å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **è¡¨å–®é©—è­‰**: å®Œæ•´çš„å®¢æˆ¶ç«¯å’Œæœå‹™ç«¯é©—è­‰
- **æ•¸æ“šç¶å®š**: é›™å‘æ•¸æ“šç¶å®šå’Œç‹€æ…‹ç®¡ç†
- **éŒ¯èª¤è™•ç†**: å‹å¥½çš„éŒ¯èª¤æç¤ºå’Œè™•ç†
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: é©é…å„ç¨®è¨­å‚™çš„è¡¨å–®å¸ƒå±€

#### ğŸ“Š Progress çµ„ä»¶ (é€²åº¦çµ„ä»¶)
```
progress/
â”œâ”€â”€ deliverable-card.tsx        # äº¤ä»˜ç‰©å¡ç‰‡
â”œâ”€â”€ deliverable-form.tsx        # äº¤ä»˜ç‰©è¡¨å–®
â”œâ”€â”€ deliverable-list.tsx        # äº¤ä»˜ç‰©åˆ—è¡¨
â”œâ”€â”€ milestone-card.tsx          # é‡Œç¨‹ç¢‘å¡ç‰‡
â”œâ”€â”€ milestone-form.tsx          # é‡Œç¨‹ç¢‘è¡¨å–®
â”œâ”€â”€ milestone-list.tsx          # é‡Œç¨‹ç¢‘åˆ—è¡¨
â”œâ”€â”€ progress-chart.tsx          # é€²åº¦åœ–è¡¨
â”œâ”€â”€ progress-summary.tsx        # é€²åº¦æ‘˜è¦
â””â”€â”€ index.ts                    # Progress å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **é‡Œç¨‹ç¢‘ç®¡ç†**: å°ˆæ¡ˆé‡Œç¨‹ç¢‘çš„å‰µå»ºå’Œè¿½è¹¤
- **äº¤ä»˜ç‰©ç®¡ç†**: äº¤ä»˜ç‰©çš„ç‹€æ…‹å’Œé€²åº¦ç®¡ç†
- **é€²åº¦è¦–è¦ºåŒ–**: è±å¯Œçš„é€²åº¦åœ–è¡¨å’Œçµ±è¨ˆ
- **é€²åº¦æé†’**: è‡ªå‹•çš„é€²åº¦æé†’å’Œé€šçŸ¥

#### âœ… Quality çµ„ä»¶ (å“è³ªçµ„ä»¶)
```
quality/
â”œâ”€â”€ acceptance-record-card.tsx  # é©—æ”¶è¨˜éŒ„å¡ç‰‡
â”œâ”€â”€ acceptance-record-form.tsx  # é©—æ”¶è¨˜éŒ„è¡¨å–®
â”œâ”€â”€ acceptance-record-list.tsx  # é©—æ”¶è¨˜éŒ„åˆ—è¡¨
â”œâ”€â”€ quality-check-card.tsx      # å“è³ªæª¢æŸ¥å¡ç‰‡
â”œâ”€â”€ quality-check-form.tsx      # å“è³ªæª¢æŸ¥è¡¨å–®
â”œâ”€â”€ quality-check-list.tsx      # å“è³ªæª¢æŸ¥åˆ—è¡¨
â””â”€â”€ index.ts                    # Quality å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **é©—æ”¶ç®¡ç†**: å®Œæ•´çš„é©—æ”¶æµç¨‹å’Œè¨˜éŒ„
- **å“è³ªæª¢æŸ¥**: å“è³ªæª¢æŸ¥æµç¨‹å’Œè©•åˆ†
- **å“è³ªè¿½è¹¤**: å“è³ªå•é¡Œçš„è¿½è¹¤å’Œè§£æ±º
- **å“è³ªå ±å‘Š**: å“è³ªæŒ‡æ¨™å’Œçµ±è¨ˆå ±å‘Š

#### ğŸ“Š Reports çµ„ä»¶ (å ±è¡¨çµ„ä»¶)
```
reports/
â”œâ”€â”€ dashboard-charts.tsx        # å„€è¡¨æ¿åœ–è¡¨
â”œâ”€â”€ engagement-report.tsx       # Engagement å ±è¡¨
â”œâ”€â”€ financial-report.tsx        # è²¡å‹™å ±è¡¨
â”œâ”€â”€ progress-report.tsx         # é€²åº¦å ±è¡¨
â”œâ”€â”€ quality-report.tsx          # å“è³ªå ±è¡¨
â””â”€â”€ index.ts                    # Reports å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **å ±è¡¨ç”Ÿæˆ**: å¤šç¨®æ ¼å¼çš„å ±è¡¨ç”Ÿæˆ
- **æ•¸æ“šåˆ†æ**: æ·±å…¥çš„æ•¸æ“šåˆ†æå’Œæ´å¯Ÿ
- **è¦–è¦ºåŒ–**: è±å¯Œçš„åœ–è¡¨å’Œè¦–è¦ºåŒ–
- **å°å‡ºåŠŸèƒ½**: æ”¯æŒ PDFã€Excel ç­‰æ ¼å¼å°å‡º

#### âš ï¸ Risk çµ„ä»¶ (é¢¨éšªçµ„ä»¶)
```
risk/
â”œâ”€â”€ issue-card.tsx              # å•é¡Œå¡ç‰‡
â”œâ”€â”€ issue-form.tsx              # å•é¡Œè¡¨å–®
â”œâ”€â”€ issue-list.tsx              # å•é¡Œåˆ—è¡¨
â”œâ”€â”€ risk-card.tsx               # é¢¨éšªå¡ç‰‡
â”œâ”€â”€ risk-form.tsx               # é¢¨éšªè¡¨å–®
â”œâ”€â”€ risk-list.tsx               # é¢¨éšªåˆ—è¡¨
â”œâ”€â”€ risk-matrix.tsx             # é¢¨éšªçŸ©é™£
â””â”€â”€ index.ts                    # Risk å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **é¢¨éšªè­˜åˆ¥**: é¢¨éšªè­˜åˆ¥å’Œè©•ä¼°å·¥å…·
- **å•é¡Œè¿½è¹¤**: å•é¡Œçš„è¿½è¹¤å’Œè§£æ±ºæµç¨‹
- **é¢¨éšªçŸ©é™£**: é¢¨éšªè©•ä¼°å’Œå„ªå…ˆç´šç®¡ç†
- **é¢¨éšªå ±å‘Š**: é¢¨éšªåˆ†æå’Œå ±å‘Š

#### ğŸ“‹ Tables çµ„ä»¶ (è¡¨æ ¼çµ„ä»¶)
```
tables/
â”œâ”€â”€ engagement-table.tsx        # Engagement è©³ç´°è¡¨æ ¼
â”œâ”€â”€ engagements-table.tsx       # Engagement åˆ—è¡¨è¡¨æ ¼
â”œâ”€â”€ payments-table.tsx          # ä»˜æ¬¾è¨˜éŒ„è¡¨æ ¼
â”œâ”€â”€ task-table.tsx              # ä»»å‹™è©³ç´°è¡¨æ ¼
â”œâ”€â”€ tasks-table.tsx             # ä»»å‹™åˆ—è¡¨è¡¨æ ¼
â””â”€â”€ index.ts                    # Tables å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **æ•¸æ“šå±•ç¤º**: é«˜æ•ˆçš„æ•¸æ“šå±•ç¤ºå’Œç€è¦½
- **æ’åºç¯©é¸**: å¤šåˆ—æ’åºå’Œé«˜ç´šç¯©é¸
- **åˆ†é åŠŸèƒ½**: å¤§é‡æ•¸æ“šçš„åˆ†é è™•ç†
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: é©é…å„ç¨®å±å¹•å°ºå¯¸

#### âœ… Tasks çµ„ä»¶ (ä»»å‹™çµ„ä»¶)
```
tasks/
â”œâ”€â”€ add-subtask-form.tsx        # æ·»åŠ å­ä»»å‹™è¡¨å–®
â”œâ”€â”€ subtask-actions.tsx         # å­ä»»å‹™æ“ä½œ
â”œâ”€â”€ subtask-list.tsx            # å­ä»»å‹™åˆ—è¡¨
â”œâ”€â”€ task-card.tsx               # ä»»å‹™å¡ç‰‡
â”œâ”€â”€ task-form.tsx               # ä»»å‹™è¡¨å–®
â”œâ”€â”€ task-list.tsx               # ä»»å‹™åˆ—è¡¨
â”œâ”€â”€ task-progress-bar.tsx       # ä»»å‹™é€²åº¦æ¢
â”œâ”€â”€ task-status-badge.tsx       # ä»»å‹™ç‹€æ…‹æ¨™ç±¤
â””â”€â”€ index.ts                    # Tasks å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **ä»»å‹™ç®¡ç†**: å®Œæ•´çš„ä»»å‹™å‰µå»ºã€æ›´æ–°ã€åˆªé™¤
- **å­ä»»å‹™**: éæ­¸çš„å­ä»»å‹™çµæ§‹ç®¡ç†
- **é€²åº¦è¿½è¹¤**: ä»»å‹™é€²åº¦çš„è¦–è¦ºåŒ–è¿½è¹¤
- **ç‹€æ…‹ç®¡ç†**: ä»»å‹™ç‹€æ…‹çš„è®Šæ›´å’Œè¿½è¹¤

---

### ğŸ”§ Constants ç›®éŒ„ (å¸¸æ•¸å®šç¾©)

```
constants/
â”œâ”€â”€ engagement.constants.ts     # Engagement ç›¸é—œå¸¸æ•¸
â”œâ”€â”€ status.constants.ts         # ç‹€æ…‹ç›¸é—œå¸¸æ•¸
â””â”€â”€ index.ts                    # Constants å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **ç‹€æ…‹å®šç¾©**: çµ±ä¸€çš„ç‹€æ…‹å’Œç‹€æ…‹è½‰æ›å®šç¾©
- **é…ç½®å¸¸æ•¸**: ç³»çµ±é…ç½®å’Œé»˜èªå€¼
- **æšèˆ‰å€¼**: å„ç¨®æšèˆ‰å’Œé¸é …å€¼
- **é©—è­‰è¦å‰‡**: è¡¨å–®é©—è­‰å’Œæ¥­å‹™è¦å‰‡

---

### ğŸ£ Hooks ç›®éŒ„ (è‡ªå®šç¾© Hooks)

```
hooks/
â”œâ”€â”€ use-engagement-actions.ts   # Engagement æ“ä½œ Hook
â”œâ”€â”€ use-engagement-form.ts      # Engagement è¡¨å–® Hook
â”œâ”€â”€ use-engagements.ts          # Engagement æ•¸æ“š Hook
â””â”€â”€ index.ts                    # Hooks å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **ç‹€æ…‹ç®¡ç†**: çµ±ä¸€çš„ç‹€æ…‹ç®¡ç†å’Œæ›´æ–°
- **æ•¸æ“šç²å–**: é«˜æ•ˆçš„æ•¸æ“šç²å–å’Œç·©å­˜
- **è¡¨å–®è™•ç†**: è¡¨å–®ç‹€æ…‹å’Œé©—è­‰ç®¡ç†
- **æ“ä½œå°è£**: æ¥­å‹™æ“ä½œçš„å°è£å’Œå¾©ç”¨

---

### ğŸª Providers ç›®éŒ„ (ä¸Šä¸‹æ–‡æä¾›è€…)

```
providers/
â”œâ”€â”€ engagement-context.tsx      # Engagement ä¸Šä¸‹æ–‡
â””â”€â”€ index.ts                    # Providers å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **ç‹€æ…‹å…±äº«**: è·¨çµ„ä»¶çš„ç‹€æ…‹å…±äº«
- **ä¸Šä¸‹æ–‡ç®¡ç†**: React Context çš„çµ±ä¸€ç®¡ç†
- **æ€§èƒ½å„ªåŒ–**: é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“
- **é¡å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript é¡å‹æ”¯æŒ

---

### ğŸ”§ Services ç›®éŒ„ (æœå‹™å±¤)

```
services/
â”œâ”€â”€ document.service.ts         # æ–‡ä»¶æœå‹™
â”œâ”€â”€ engagement.service.ts       # Engagement æ ¸å¿ƒæœå‹™
â”œâ”€â”€ financial.service.ts        # è²¡å‹™æœå‹™
â”œâ”€â”€ notification.service.ts     # é€šçŸ¥æœå‹™
â””â”€â”€ index.ts                    # Services å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **æ¥­å‹™é‚è¼¯**: æ ¸å¿ƒæ¥­å‹™é‚è¼¯çš„å°è£
- **æ•¸æ“šè™•ç†**: æ•¸æ“šçš„è½‰æ›å’Œè™•ç†
- **å¤–éƒ¨é›†æˆ**: èˆ‡å¤–éƒ¨æœå‹™çš„é›†æˆ
- **éŒ¯èª¤è™•ç†**: çµ±ä¸€çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶

---

### ğŸ“ Types ç›®éŒ„ (é¡å‹å®šç¾©)

```
types/
â”œâ”€â”€ audit.types.ts              # å¯©è¨ˆé¡å‹
â”œâ”€â”€ change.types.ts             # è®Šæ›´é¡å‹
â”œâ”€â”€ communication.types.ts      # æºé€šé¡å‹
â”œâ”€â”€ document.types.ts           # æ–‡ä»¶é¡å‹
â”œâ”€â”€ engagement.types.ts         # Engagement æ ¸å¿ƒé¡å‹
â”œâ”€â”€ financial.types.ts          # è²¡å‹™é¡å‹
â”œâ”€â”€ progress.types.ts           # é€²åº¦é¡å‹
â”œâ”€â”€ quality.types.ts            # å“è³ªé¡å‹
â”œâ”€â”€ risk.types.ts               # é¢¨éšªé¡å‹
â”œâ”€â”€ task.types.ts               # ä»»å‹™é¡å‹
â””â”€â”€ index.ts                    # Types å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **é¡å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript é¡å‹å®šç¾©
- **æ¥å£å®šç¾©**: æ¸…æ™°çš„æ•¸æ“šæ¥å£å®šç¾©
- **é¡å‹æª¢æŸ¥**: ç·¨è­¯æ™‚é¡å‹æª¢æŸ¥
- **æ–‡æª”åŒ–**: é¡å‹å³æ–‡æª”çš„è¨­è¨ˆ

---

### ğŸ› ï¸ Utils ç›®éŒ„ (å·¥å…·å‡½æ•¸)

```
utils/
â”œâ”€â”€ concurrency-control.utils.ts    # ä¸¦ç™¼æ§åˆ¶å·¥å…·
â”œâ”€â”€ database-repair.utils.ts        # æ•¸æ“šåº«ä¿®å¾©å·¥å…·
â”œâ”€â”€ database-validation.utils.ts    # æ•¸æ“šåº«é©—è­‰å·¥å…·
â”œâ”€â”€ date.utils.ts                   # æ—¥æœŸè™•ç†å·¥å…·
â”œâ”€â”€ engagement.utils.ts             # Engagement å·¥å…·
â”œâ”€â”€ error-handling.utils.ts         # éŒ¯èª¤è™•ç†å·¥å…·
â”œâ”€â”€ financial.utils.ts              # è²¡å‹™å·¥å…·
â”œâ”€â”€ performance.utils.ts            # æ€§èƒ½å„ªåŒ–å·¥å…·
â”œâ”€â”€ status.utils.ts                 # ç‹€æ…‹å·¥å…·
â”œâ”€â”€ subtask.utils.ts                # å­ä»»å‹™å·¥å…·
â”œâ”€â”€ timestamp-fix.ts                # æ™‚é–“æˆ³ä¿®å¾©å·¥å…·
â””â”€â”€ index.ts                        # Utils å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **æ•¸æ“šè™•ç†**: å„ç¨®æ•¸æ“šè™•ç†å’Œè½‰æ›å·¥å…·
- **é©—è­‰å·¥å…·**: è¼¸å…¥é©—è­‰å’Œæ•¸æ“šæ¸…ç†
- **æ€§èƒ½å„ªåŒ–**: ç·©å­˜ã€ä¸¦ç™¼æ§åˆ¶ç­‰æ€§èƒ½å·¥å…·
- **éŒ¯èª¤è™•ç†**: çµ±ä¸€çš„éŒ¯èª¤è™•ç†å’Œæ¢å¾©æ©Ÿåˆ¶

---

### ğŸ–¼ï¸ Views ç›®éŒ„ (è¦–åœ–çµ„ä»¶)

```
views/
â”œâ”€â”€ engagement-dashboard.tsx    # Engagement å„€è¡¨æ¿
â”œâ”€â”€ engagement-detail-view.tsx  # Engagement è©³æƒ…è¦–åœ–
â”œâ”€â”€ engagement-list-view.tsx    # Engagement åˆ—è¡¨è¦–åœ–
â””â”€â”€ index.ts                    # Views å°å‡º
```

**åŠŸèƒ½èªªæ˜**:
- **é é¢çµ„ä»¶**: å®Œæ•´çš„é é¢ç´šçµ„ä»¶
- **è·¯ç”±é›†æˆ**: èˆ‡ Next.js è·¯ç”±çš„é›†æˆ
- **æ•¸æ“šç¶å®š**: èˆ‡æœå‹™å±¤çš„æ•¸æ“šç¶å®š
- **ç”¨æˆ¶é«”é©—**: å®Œæ•´çš„ç”¨æˆ¶äº¤äº’é«”é©—

---

## ğŸ“Š æ¨¡çµ„çµ±è¨ˆ (Module Statistics)

### æ–‡ä»¶çµ±è¨ˆ
- **ç¸½æ–‡ä»¶æ•¸**: 75 å€‹æ–‡ä»¶
- **TypeScript æ–‡ä»¶**: 74 å€‹
- **Markdown æ–‡ä»¶**: 1 å€‹
- **æ¸¬è©¦æ–‡ä»¶**: åŒ…å«åœ¨ `__tests__` ç›®éŒ„ä¸­

### åŠŸèƒ½æ¨¡çµ„çµ±è¨ˆ
- **Actions**: 9 å€‹æ–‡ä»¶
- **Components**: 50+ å€‹çµ„ä»¶æ–‡ä»¶
- **Services**: 4 å€‹æœå‹™æ–‡ä»¶
- **Types**: 10 å€‹é¡å‹æ–‡ä»¶
- **Utils**: 11 å€‹å·¥å…·æ–‡ä»¶
- **Views**: 3 å€‹è¦–åœ–æ–‡ä»¶

### çµ„ä»¶åˆ†é¡çµ±è¨ˆ
- **Cards**: 2 å€‹çµ„ä»¶
- **Charts**: 4 å€‹çµ„ä»¶
- **Dialogs**: 4 å€‹çµ„ä»¶
- **Tables**: 5 å€‹çµ„ä»¶
- **Forms**: 3 å€‹çµ„ä»¶
- **Lists**: 15+ å€‹åˆ—è¡¨çµ„ä»¶
- **å…¶ä»–**: 20+ å€‹åŠŸèƒ½çµ„ä»¶

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ (Core Features)

### 1. Engagement ç®¡ç†
- **CRUD æ“ä½œ**: å®Œæ•´çš„å‰µå»ºã€è®€å–ã€æ›´æ–°ã€åˆªé™¤
- **ç‹€æ…‹ç®¡ç†**: å°ˆæ¡ˆç‹€æ…‹çš„è®Šæ›´å’Œè¿½è¹¤
- **ç‰ˆæœ¬æ§åˆ¶**: å°ˆæ¡ˆç‰ˆæœ¬çš„æ­·å²è¨˜éŒ„
- **å¯©è¨ˆæ—¥èªŒ**: å®Œæ•´çš„æ“ä½œå¯©è¨ˆè¨˜éŒ„

### 2. ä»»å‹™ç®¡ç†
- **ä»»å‹™ CRUD**: ä»»å‹™çš„å®Œæ•´ç”Ÿå‘½é€±æœŸç®¡ç†
- **å­ä»»å‹™**: éæ­¸çš„å­ä»»å‹™çµæ§‹
- **é€²åº¦è¿½è¹¤**: ä»»å‹™é€²åº¦çš„è¦–è¦ºåŒ–
- **ç‹€æ…‹ç®¡ç†**: ä»»å‹™ç‹€æ…‹çš„è®Šæ›´å’Œé€šçŸ¥

### 3. è²¡å‹™ç®¡ç†
- **ä»˜æ¬¾ç®¡ç†**: ä»˜æ¬¾è¨ˆåŠƒå’Œè¨˜éŒ„
- **ç™¼ç¥¨ç®¡ç†**: ç™¼ç¥¨ç”Ÿæˆå’Œè¿½è¹¤
- **è²¡å‹™è¨ˆç®—**: è‡ªå‹•çš„è²¡å‹™è¨ˆç®—
- **è²¡å‹™å ±è¡¨**: è©³ç´°çš„è²¡å‹™åˆ†æ

### 4. æ–‡ä»¶ç®¡ç†
- **æ–‡ä»¶ä¸Šå‚³**: å¤šç¨®æ ¼å¼çš„æ–‡ä»¶ä¸Šå‚³
- **é™„ä»¶ç®¡ç†**: é™„ä»¶çš„çµ„ç¹”å’Œç®¡ç†
- **ç‰ˆæœ¬æ§åˆ¶**: æ–‡ä»¶ç‰ˆæœ¬æ­·å²
- **é è¦½åŠŸèƒ½**: æ–‡ä»¶é è¦½å’ŒæŸ¥çœ‹

### 5. æºé€šç®¡ç†
- **æºé€šè¨˜éŒ„**: å®Œæ•´çš„æºé€šæ­·å²
- **æœƒè­°ç®¡ç†**: æœƒè­°å®‰æ’å’Œè¨˜éŒ„
- **å¾ŒçºŒè¡Œå‹•**: è¡Œå‹•é …ç›®çš„è¿½è¹¤
- **é€šçŸ¥ç³»çµ±**: å¯¦æ™‚é€šçŸ¥å’Œæé†’

### 6. é€²åº¦ç®¡ç†
- **é‡Œç¨‹ç¢‘**: å°ˆæ¡ˆé‡Œç¨‹ç¢‘ç®¡ç†
- **äº¤ä»˜ç‰©**: äº¤ä»˜ç‰©ç‹€æ…‹è¿½è¹¤
- **é€²åº¦è¦–è¦ºåŒ–**: è±å¯Œçš„é€²åº¦åœ–è¡¨
- **é€²åº¦å ±å‘Š**: è©³ç´°çš„é€²åº¦åˆ†æ

### 7. å“è³ªç®¡ç†
- **é©—æ”¶ç®¡ç†**: é©—æ”¶æµç¨‹å’Œè¨˜éŒ„
- **å“è³ªæª¢æŸ¥**: å“è³ªæª¢æŸ¥å’Œè©•åˆ†
- **å“è³ªè¿½è¹¤**: å“è³ªå•é¡Œç®¡ç†
- **å“è³ªå ±å‘Š**: å“è³ªæŒ‡æ¨™åˆ†æ

### 8. é¢¨éšªç®¡ç†
- **é¢¨éšªè­˜åˆ¥**: é¢¨éšªè­˜åˆ¥å’Œè©•ä¼°
- **å•é¡Œè¿½è¹¤**: å•é¡Œçš„è¿½è¹¤å’Œè§£æ±º
- **é¢¨éšªçŸ©é™£**: é¢¨éšªè©•ä¼°å·¥å…·
- **é¢¨éšªå ±å‘Š**: é¢¨éšªåˆ†æå ±å‘Š

## ğŸ”§ æŠ€è¡“ç‰¹é» (Technical Features)

### 1. ç¾ä»£åŒ–æŠ€è¡“æ£§
- **React 18+**: æœ€æ–°çš„ React ç‰¹æ€§
- **TypeScript**: å®Œæ•´çš„é¡å‹å®‰å…¨
- **Next.js App Router**: æœå‹™ç«¯çµ„ä»¶å’Œ Actions
- **Shadcn UI**: ç¾ä»£åŒ–çš„ UI çµ„ä»¶åº«

### 2. æ¶æ§‹è¨­è¨ˆ
- **æ¨¡çµ„åŒ–**: æ¸…æ™°çš„æ¨¡çµ„åˆ†é›¢
- **çµ„ä»¶åŒ–**: å¯é‡ç”¨çš„çµ„ä»¶è¨­è¨ˆ
- **æœå‹™å°å‘**: æ¸…æ™°çš„æ¥­å‹™é‚è¼¯åˆ†å±¤
- **é¡å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript æ”¯æŒ

### 3. æ€§èƒ½å„ªåŒ–
- **æœå‹™ç«¯æ¸²æŸ“**: æ›´å¥½çš„ SEO å’Œæ€§èƒ½
- **ä»£ç¢¼åˆ†å‰²**: æŒ‰éœ€åŠ è¼‰å’Œå„ªåŒ–
- **ç·©å­˜ç­–ç•¥**: æ™ºèƒ½çš„æ•¸æ“šç·©å­˜
- **ä¸¦ç™¼æ§åˆ¶**: é«˜æ•ˆçš„ä¸¦ç™¼è™•ç†

### 4. ç”¨æˆ¶é«”é©—
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: é©é…å„ç¨®è¨­å‚™
- **ç„¡éšœç¤™è¨­è¨ˆ**: æ”¯æŒå¯è¨ªå•æ€§
- **å¯¦æ™‚æ›´æ–°**: æ•¸æ“šçš„å¯¦æ™‚åŒæ­¥
- **éŒ¯èª¤è™•ç†**: å‹å¥½çš„éŒ¯èª¤æç¤º

## ğŸ“š ä½¿ç”¨æŒ‡å— (Usage Guide)

### 1. åŸºæœ¬å°å…¥
```typescript
// å°å…¥æ•´å€‹æ¨¡çµ„
import { EngagementModule } from '@/features/core-operations/engagements';

// å°å…¥ç‰¹å®šçµ„ä»¶
import { EngagementCard, TaskList } from '@/features/core-operations/engagements';

// å°å…¥ç‰¹å®šæœå‹™
import { engagementService } from '@/features/core-operations/engagements';
```

### 2. ä½¿ç”¨çµ„ä»¶
```typescript
// ä½¿ç”¨ Engagement å¡ç‰‡
<EngagementCard 
  engagement={engagement} 
  onEdit={handleEdit}
  onDelete={handleDelete}
/>

// ä½¿ç”¨ä»»å‹™åˆ—è¡¨
<TaskList 
  tasks={tasks}
  onTaskUpdate={handleTaskUpdate}
  onTaskDelete={handleTaskDelete}
/>
```

### 3. ä½¿ç”¨æœå‹™
```typescript
// å‰µå»º Engagement
const engagement = await engagementService.createEngagement(data);

// æ›´æ–°ä»»å‹™
const updatedTask = await taskService.updateTask(taskId, updates);

// ç²å–è²¡å‹™æ•¸æ“š
const financialData = await financialService.getFinancialSummary(engagementId);
```

### 4. ä½¿ç”¨ Hooks
```typescript
// ä½¿ç”¨ Engagement æ•¸æ“š Hook
const { engagements, loading, error } = useEngagements();

// ä½¿ç”¨è¡¨å–® Hook
const { form, handleSubmit, isSubmitting } = useEngagementForm();

// ä½¿ç”¨æ“ä½œ Hook
const { createEngagement, updateEngagement } = useEngagementActions();
```

## ğŸ§ª æ¸¬è©¦ (Testing)

### æ¸¬è©¦è¦†è“‹
- **å–®å…ƒæ¸¬è©¦**: æ‰€æœ‰å·¥å…·å‡½æ•¸å’Œæœå‹™
- **çµ„ä»¶æ¸¬è©¦**: æ‰€æœ‰ UI çµ„ä»¶
- **é›†æˆæ¸¬è©¦**: çµ„ä»¶é–“äº¤äº’
- **ç«¯åˆ°ç«¯æ¸¬è©¦**: å®Œæ•´ç”¨æˆ¶æµç¨‹

### æ¸¬è©¦æ–‡ä»¶çµæ§‹
```
__tests__/
â”œâ”€â”€ components/                 # çµ„ä»¶æ¸¬è©¦
â”œâ”€â”€ services/                   # æœå‹™æ¸¬è©¦
â”œâ”€â”€ utils/                      # å·¥å…·å‡½æ•¸æ¸¬è©¦
â”œâ”€â”€ integration/                # é›†æˆæ¸¬è©¦
â””â”€â”€ e2e/                        # ç«¯åˆ°ç«¯æ¸¬è©¦
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ¨™ (Performance Metrics)

### åŠ è¼‰æ€§èƒ½
- **é¦–å±åŠ è¼‰**: < 2 ç§’
- **çµ„ä»¶æ¸²æŸ“**: < 100ms
- **æ•¸æ“šç²å–**: < 500ms
- **ç”¨æˆ¶äº¤äº’**: < 50ms

### ä»£ç¢¼å“è³ª
- **TypeScript è¦†è“‹ç‡**: 100%
- **æ¸¬è©¦è¦†è“‹ç‡**: > 90%
- **ä»£ç¢¼é‡è¤‡ç‡**: < 5%
- **åœˆè¤‡é›œåº¦**: < 10

## ğŸ”® æœªä¾†è¦åŠƒ (Future Roadmap)

### çŸ­æœŸç›®æ¨™ (1-3 å€‹æœˆ)
- [ ] æ€§èƒ½å„ªåŒ–
- [ ] ç„¡éšœç¤™åŠŸèƒ½å¢å¼·
- [ ] ç§»å‹•ç«¯å„ªåŒ–
- [ ] åœ‹éš›åŒ–æ”¯æŒ

### ä¸­æœŸç›®æ¨™ (3-6 å€‹æœˆ)
- [ ] AI åŠŸèƒ½é›†æˆ
- [ ] é«˜ç´šå ±è¡¨åŠŸèƒ½
- [ ] å·¥ä½œæµç¨‹è‡ªå‹•åŒ–
- [ ] ç¬¬ä¸‰æ–¹é›†æˆ

### é•·æœŸç›®æ¨™ (6-12 å€‹æœˆ)
- [ ] å¾®æœå‹™æ¶æ§‹
- [ ] å¯¦æ™‚å”ä½œåŠŸèƒ½
- [ ] é«˜ç´šåˆ†æåŠŸèƒ½
- [ ] ä¼æ¥­ç´šåŠŸèƒ½

## ğŸ“ æ”¯æŒèˆ‡ç¶­è­· (Support & Maintenance)

### æ–‡æª”è³‡æº
- **API æ–‡æª”**: å®Œæ•´çš„ API åƒè€ƒ
- **ç”¨æˆ¶æ‰‹å†Š**: è©³ç´°çš„ä½¿ç”¨æŒ‡å—
- **é–‹ç™¼æ–‡æª”**: é–‹ç™¼è€…æŒ‡å—
- **è®Šæ›´æ—¥èªŒ**: ç‰ˆæœ¬è®Šæ›´è¨˜éŒ„

### ç¶­è­·ç­–ç•¥
- **å®šæœŸæ›´æ–°**: æ¯æœˆåŠŸèƒ½æ›´æ–°
- **å®‰å…¨ä¿®å¾©**: åŠæ™‚çš„å®‰å…¨è£œä¸
- **æ€§èƒ½å„ªåŒ–**: æŒçºŒçš„æ€§èƒ½æ”¹é€²
- **ç”¨æˆ¶åé¥‹**: åŸºæ–¼ç”¨æˆ¶åé¥‹çš„æ”¹é€²

---

**æ–‡æª”ç‰ˆæœ¬**: 1.0  
**å‰µå»ºæ—¥æœŸ**: 2024å¹´12æœˆ19æ—¥  
**æœ€å¾Œæ›´æ–°**: 2024å¹´12æœˆ19æ—¥  
**ç¶­è­·è€…**: é–‹ç™¼åœ˜éšŠ  
**ç‹€æ…‹**: âœ… å®Œæ•´å¯¦ç¾
