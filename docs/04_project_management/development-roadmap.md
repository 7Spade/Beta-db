# 開發路線圖 (Development Roadmap)

本文件基於已批准的功能藍圖和系統設計文件，為 Beta-db 整合平台的開發工作定義了一個清晰、分階段的路線圖。

---

## 階段零：基礎建設與架構優化 (Foundation & Refactoring)

**目標**: 在開發新功能前，先完成對現有架構的優化，確保一個穩定、高效能的開發基礎。

1.  **實施響應式佈局 (`layout.md`)**: 
    *   **任務**: 完成對 `AppHeader` 的伺服器/客戶端拆分，並實現移動設備優先的側邊欄抽屜式導航。
    *   **優先級**: **最高**。這是所有後續 UI 功能的基礎。

2.  **專案管理模組現代化 (`project_v1.md`)**:
    *   **任務**: 廢棄 `ProjectContext`，全面採用 Server Actions 和 `revalidatePath` 來處理專案和任務的 CRUD 操作。
    *   **優先級**: **極高**。這是將應用程式轉向現代 Next.js 架構的關鍵一步。

---

## 階段一：核心協作與數據化 (Core Collaboration & Digitalization)

**目標**: 將工地現場最高頻的作業數位化，並建立起跨組織協作的核心流程。

1.  **實施「任務委派與驗收」系統 (`delegation-and-acceptance-system.md`)**:
    *   **任務**: 重構 `Task` 資料模型，加入 `assignment` 物件。開發完整的委派、接受、拒絕、請求驗收和完成流程。
    *   **優先級**: **極高**。這是實現「依據已完成工作進行計價」的**絕對前提**。

2.  **建立「工地日報」系統 (`daily-report.md`)**:
    *   **任務**: 開發 `/quick-actions/daily-report` 頁面，允許使用者記錄每日天氣、人力、施工項目和上傳照片。
    *   **說明**: 這是將線下數據轉移到線上的第一步，至關重要。

3.  **建立「基礎排班」視圖 (`resource-scheduling.md`)**:
    *   **任務**: 開發 `/team/schedule` 頁面，實現一個基礎的視覺化日曆，允許管理員手動將成員指派到特定專案的特定日期。
    *   **說明**: 解決最基本的「誰在哪裡」的問題。

---

## 階段二：打通核心財務流程 (Core Financial Automation)

**目標**: 解決合約中最核心的痛點——分期計價與審批，將工程進度與財務流程緊密結合。

1.  **開發「進階合約付款排程」 (`progress-billing.md`)**:
    *   **任務**: 在合約詳情頁開發 UI，讓使用者可以定義付款期數及其觸發條件（依日期、進度、任務完成）。

2.  **建立「計價單」系統 (`progress-billing.md`)**:
    *   **任務**: 開發計價單產生器。使用者可以選擇**已通過驗收 (Completed)** 的任務，系統自動生成計價單。

3.  **整合「多層審批流程」 (`progress-billing.md` & `partnerverse.md`)**:
    *   **任務**: 將生成的計價單與 PartnerVerse 的財務流程對接，實現線上的多層審批。

---

## 階段三：數據整合與決策輔助 (Data Integration & Decision Support)

**目標**: 將前兩階段收集到的數據進行整合與分析，從「單純記錄」進化到「數據洞察」，提供決策輔助。

1.  **建立「成本與預算追蹤」儀表板 (`cost-tracking.md`)**:
    *   **任務**: 開發「成本分析」標籤頁，視覺化展示預算 vs. 實際成本，並繪製進度 S 曲線。

2.  **實施「多倉庫庫存」系統 (`inventory.md`)**:
    *   **任務**: 根據完整的設計藍圖，建立 `warehouses`, `inventory_items`, `inventory_levels`, 和 `inventory_movements` 四個核心集合，並開發對應的管理介面。

3.  **開發「智慧排班建議」 (`resource-scheduling.md`)**:
    *   **任務**: 開發新的 Genkit AI 流程，根據任務所需技能和成員可用性，向管理者提供排班建議。

---

## 階段四：動態內容與體驗優化 (Dynamic Content & Experience Enhancement)

**目標**: 提升應用的互動性和專業性，並賦予非技術人員內容管理的能力。

1.  **實現動態內容管理 (`blog-management.md`, `career-management.md`, `content-management.md`)**:
    *   **任務**: 逐步將前台的公開頁面（如部落格、企業徵才、關於我們）與後台管理系統連接，實現內容的動態更新。

2.  **實施「Web Push Notifications」 (`web-push-notifications.md`)**:
    *   **任務**: 建立 Service Worker 和後端推播邏輯，當有新通知時，能主動推送到使用者的設備。
    *   **優先級**: **高**。這將極大地提升平台的即時互動能力。

---

## 階段五：系統管理與監控 (System Management & Monitoring)

**目標**: 建立企業級的系統管理能力，確保平台的穩定性和可擴展性。

1.  **實施「系統管理」模組 (`system-management.md`)**:
    *   **任務**: 開發全域設定、角色權限管理、系統日誌檢視和 API 整合管理等核心功能。
    *   **優先級**: **中**。這是平台從應用成長為企業級產品的必要條件。

2.  **建立「系統監控」儀表板**:
    *   **任務**: 開發 AI Token 消耗分析、錯誤日誌監控和系統健康狀況檢查等監控功能。

---

本路線圖為建議執行順序，實際開發中可根據業務優先級和團隊資源進行微調。
